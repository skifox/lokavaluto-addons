<?xml version="1.0"?>
<odoo>
    <!-- TODO: put here a reminder on what to do at the first edition -->
    <record id="{LokaValuto_accounting} local treisurer_view" model="ir.ui.view">
        <field name="name">{LokaValuto_accounting} local treisurer.view</field>
        <field name="model">accounting_config</field>
        <field name="view_type">tree</field>
        <field name="inherit_id" ref=""/>
        <field name="arch" type="xml">
          b'<tree string="Configuration tr&#233;soriers locaux">\n              <field name="name"/>\n              <field name="salesteams_id"/>\n              <field name="local_currency_cash_journal_id"/>\n              <field name="national_currency_cash_journal_id"/>\n              <field name="national_currency_check_journal_id"/>\n              <!--field name="" groups="stock.group_stock_multi_locations"/-->\n            </tree>'
        </field>
    </record>
    <record id="{Lokavaluto-accounting} local tresiurer_view" model="ir.ui.view">
        <field name="name">{Lokavaluto-accounting} local tresiurer.view</field>
        <field name="model">accounting_config</field>
        <field name="view_type">kanban</field>
        <field name="inherit_id" ref=""/>
        <field name="arch" type="xml">
          b'<kanban create="false" class="o_kanban_dashboard o_pos_kanban">\n                <field name="name"/>\n                <field name="salesteams_id"/>\n                <field name="local_currency_cash_journal_id"/>\n                <field name="national_currency_cash_journal_id"/>\n                <field name="national_currency_check_journal_id"/> \n                <field name="local_currency_cash_out_journal_id"/>\n                <field name="national_currency_cash_out_journal_id"/>\n                <field name="national_currency_check_out_journal_id"/> \n                <field name="local_currency_id"/>\n                <field name="national_currency_id"/>\n                <field name="cashbox_referent_id"/>\n                \n                <templates>\n                    <t t-name="kanban-box">\n                      <t t-set="national_cash_in" t-value="record.x_national_currency_cash_journal_id.raw_value"/>\n                      <t t-set="national_cash_out" t-value="record.x_national_currency_cash_out_journal_id.raw_value"/>\n                      <t t-set="local_cash_in" t-value="record.x_local_currency_cash_journal_id.raw_value"/>\n                      <t t-set="local_cash_out" t-value="record.x_local_currency_cash_out_journal_id.raw_value"/>\n                      <t t-set="check_in" t-value="record.x_national_currency_check_journal_id.raw_value"/>\n                      <t t-set="check_out" t-value="record.x_national_currency_check_out_journal_id.raw_value"/>\n                      <t t-set="local_currency" t-value="record.x_local_currency_id.raw_value"/>\n                      <t t-set="nationa_currency" t-value="record.x_national_currency_id.raw_value"/>\n                      <t t-set="team_id" t-value="record.x_salesteams_id.value"/>\n                      <t t-set="referent_id" t-value="record.x_cashbox_referent_id.value"/>\n                      \n                       <div style="width: 450px;">\n                            <div class="o_kanban_card_header">\n                                <div class="o_kanban_card_header_title mb16">\n                                    <div class="o_primary">\n                                        <t t-esc="record.x_name.value"/>\n                                    </div>\n                                    <div class="badge badge-info o_kanban_inline_block">  <t t-esc="record.x_salesteams_id.value"/>\n                                    /<t t-esc="record.x_cashbox_referent_id.value"/>\n                                    </div>\n                                     <t t-if="x_cashbox_type_id == \'Comptoir de change\'"> <!-- t-call="JournalBodyGraph"-->\n                                        <div class="badge badge-success o_kanban_inline_block">In Progress</div>\n                                    </t>\n                                    <!--t t-if="record.pos_session_state.raw_value == \'closing_control\'">\n                                        <div class="badge badge-info o_kanban_inline_block">Closing Control</div>\n                                    </t>\n                                    <t t-if="record.pos_session_state.raw_value == \'opened\' and record.pos_session_duration.raw_value &gt; 1">\n                                        <div t-attf-class="badge badge-#{record.pos_session_duration.raw_value &gt; 3 and \'danger\' or \'warning\'} o_kanban_inline_block" title="The session has been opened for an unusually long period. Please consider closing.">\n                                             To Close\n                                        </div>\n                                    </t-->\n                                    <t t-set="unused_message">Unused</t>\n                                    <!--<div class="o_secondary mt16"> Solde <t t-esc="record.x_local_currency_cash_journal_id.value"/></div>\n                                    <div class="o_secondary mt16"> Solde <t t-esc="record.x_national_currency_cash_journal_id.value"/></div>\n                                --></div>\n                                <div class="o_kanban_manage_button_section">\n                                    <a class="o_kanban_manage_toggle_button" href="#"><i class="fa fa-ellipsis-v" role="img" aria-label="Manage" title="Manage"/></a>\n                                </div>\n                            </div>\n                            <!-- param&#233;trage pr&#233;sentation du bloc kanban -->\n                            <div class="container o_kanban_card_content">\n                                        <h4>Transfert</h4>\n                                    \n                                      <div class="col-12 texte-center o_kanban_primary_left"> <!--  groups="account_check_deposit.account_check_deposit_view_tree"-->\n                                    <button class="offset-1 col-3 btn btn-primary" name="553" type="action" t-attf-data-context="{\'default_journal_id\': {{national_cash_in}},\'default_bank_journal_id\':{{national_cash_out}}}"><t t-esc="record.x_national_currency_id.value"/></button>\n                                    <button class="col-3 btn btn-primary" name="553" type="action" t-attf-data-context="{\'default_journal_id\': {{local_cash_in}},\'default_bank_journal_id\':{{local_cash_out}}}"><t t-esc="record.x_local_currency_id.value"/></button>\n                                    <!--button class="col-3 btn btn-primary" name="553" type="action" t-attf-data-context="{\'default_x_salesteams_id\': {{team_id}},\'default_journal_id\': {{local_cash_in}},\'default_bank_journal_id\':{{local_cash_out}}}"><t t-esc="record.x_local_currency_id.value"/></button-->\n                                    <button class="col-3 btn btn-primary" name="553" type="action" t-attf-data-context="{\'default_journal_id\': {{check_in}},\'default_bank_journal_id\':{{check_out}}}">Ch&#232;ques</button>\n                                </div>\n                            </div>\n                            <!-- Param&#233;trage menu accessible via les ...-->\n                            <div class="container o_kanban_card_manage_pane dropdown-menu" role="menu">\n                                <div class="row">\n                                    <div class="col-6 o_kanban_card_manage_section o_kanban_manage_view">\n                                        <div role="menuitem" class="o_kanban_card_manage_title">\n                                            <span>Adh&#233;sions</span>\n                                        </div>\n                                        <div role="menuitem">\n                                            <a name="483" type="action">Nouvel adh&#233;rent (N&#176; attribu&#233; manuellement)</a> <!-- TODO filtrer les cartes vierges du bassin sur les t-attf-data-context="{\'default_team_id\': {{team_id}}}" -->\n                                            <!-- envoie vers la liste des tous les adh&#233;rents ou demander saisie num&#233;ro carte et envoi vers la fiche -->\n                                        </div>\n                                        <div role="menuitem">\n                                            <a name="483" type="action">Nouvel adh&#233;rent (N&#176; automatique)</a> <!-- TODO ouverture de la cr&#233;ation d\'un membre -->\n                                            <!-- envoie vers la cr&#233;ation d\'un adh&#233;rent avec attribution automatique d\'un num&#233;ro d\'adh&#233;rent -->\n\n                                        </div>\n                                        <!-- TODO a supprimer quand lien du bas sera fonctionnel-->\n                                        <div role="menuitem">\n                                            <a name="812" type="edit">Configuration</a>\n                                        </div>\n                                        <!--div role="menuitem">\n                                            <a name="813" type="action">Envoie caisse PIV</a>\n                                        </div>\n                                        <div role="menuitem">\n                                            <a name="813" type="action">Envoie ch&#232;ques EUR</a>\n                                        </div-->\n                                    </div>\n                                    <!--div class="col-6 o_kanban_card_manage_section o_kanban_manage_new">\n                                        <div role="menuitem" class="o_kanban_card_manage_title">\n                                            <span>Reporting</span>\n                                        </div>\n                                        <div role="menuitem">\n                                            <a name="" type="action">Orders</a>\n                                        </div>\n                                    </div-->\n                                </div>\n                                <!-- TODO faire en sorte que ce lien soit visible comme sur la page point de vente -->\n                                <div class="o_kanban_card_manage_settings row" groups="x_accounting_config.edit">\n                                    <div role="menuitem" class="col-12">\n                                        <a type="edit">Settings</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </t>\n                </templates>\n            </kanban>'
        </field>
    </record>
    <record id="{lokavaluto_accounting} Search_view" model="ir.ui.view">
        <field name="name">{lokavaluto_accounting} Search.view</field>
        <field name="model">accounting_config</field>
        <field name="view_type">search</field>
        <field name="inherit_id" ref=""/>
        <field name="arch" type="xml">
          b'<search string="Search cashbox">\n                  <field name="cashbox_contact_id"/>\n                  <field name="salesteams_id" string="Sales Team"/>\n                  <filter string="My cashbox" name="my_cashbox" domain="[(\'x_cashbox_referent_id\', \'=\',  uid)]"/>\n                  <filter string="My local treisurer cashbox" name="bassin" domain="[(\'x_salesteams_id.member_ids\', \'in\', uid)]"/>\n                  <separator/>\n                   <group expand="0" name="group_by" string="Group By">\n                      \n                   </group>\n               </search>'
        </field>
    </record>
    <record id="{lokavaluto_accounting} cashbox facilitator form_view" model="ir.ui.view">
        <field name="name">{lokavaluto_accounting} cashbox facilitator form.view</field>
        <field name="model">accounting_config</field>
        <field name="view_type">form</field>
        <field name="inherit_id" ref=""/>
        <field name="arch" type="xml">
          b'<form string="Configuration tr&#233;sorier local">\n                <sheet>\n                    <div class="oe_title" id="title">\n                        <label for="x_name" class="oe_edit_only"/>\n                        <h1><field name="name" string="Nom tr&#233;sorerie locale"/></h1>\n                    </div>\n                    <div class="row mt20" id="cashbox_code">\n                        <label for="x_cashbox_code" class="col-lg-2"/>\n                        <field name="cashbox_code" class="col-lg-2"/>\n                    </div>\n                    <div class="row mt50" id="cashbox_contact">\n                        <label for="x_cashbox_referent_id" class="col-lg-2"/>\n                        <field name="cashbox_referent_id"/>\n                    </div>\n                    <div class="row mt16" id="company">\n                        <label for="x_company_id" class="col-lg-2"/>\n                        <field name="company_id"/>\n                    </div>\n                    <h2 name="accounts">Comptes</h2>\n                    <div class="row mt16 o_settings_container">\n                        <div class="col-12 col-lg-6 o_setting_box">\n                           <div class="o_setting_right_pane">\n                                <label for="x_local_currency_cash_journal_id"/>\n                                <div class="text-muted">\n                                    S&#233;lection du journal de caisse en <t t-esc="record.x_local_currency.value"/>\n                                </div>\n                                <div class="content-group mt16">\n                                    <field name="local_currency_cash_journal_id" required="1"/>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="col-12 col-lg-6 o_setting_box">\n                            <div class="o_setting_right_pane">\n                                <label for="x_local_currency_cash_out_journal_id"/>\n                                <div class="text-muted">\n                                    S&#233;lection du journal de caisse destination en <t t-esc="record.x_local_currency.value"/>\n                                </div>\n                                <div class="content-group mt16">\n                                    <field name="local_currency_cash_out_journal_id" required="1"/>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="col-12 col-lg-6 o_setting_box">\n                            <div class="o_setting_right_pane">\n                                <label for="x_national_currency_cash_journal_id"/>\n                                <div class="text-muted">\n                                    S&#233;lection du journal de caisse en <t t-esc="record.x_national_currency.value"/>\n                                </div>\n                                <div class="content-group mt16">\n                                    <field name="national_currency_cash_journal_id" required="1"/>\n                                </div>\n                            </div>\n                        </div>\n                         <div class="col-12 col-lg-6 o_setting_box">\n                            <div class="o_setting_right_pane">\n                                <label for="x_national_currency_cash_out_journal_id"/>\n                                <div class="text-muted">\n                                    S&#233;lection du journal de caisse destination en <t t-esc="record.x_national_currency.value"/>\n                                </div>\n                                <div class="content-group mt16">\n                                    <field name="national_currency_cash_out_journal_id" required="1"/>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="col-12 col-lg-6 o_setting_box">\n                            <div class="o_setting_right_pane">\n                                <label for="x_national_currency_check_journal_id"/>\n                                <div class="text-muted">\n                                    S&#233;lection du journal de ch&#232;que en <t t-esc="record.x_national_currency.value"/>\n                                </div>\n                                <div class="content-group mt16">\n                                    <field name="national_currency_check_journal_id" required="1"/>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="col-12 col-lg-6 o_setting_box">\n                            <div class="o_setting_right_pane">\n                                <label for="x_national_currency_check_out_journal_id"/>\n                                <div class="text-muted">\n                                    S&#233;lection du journal de ch&#232;que destinataire en <t t-esc="record.x_national_currency.value"/>\n                                </div>\n                                <div class="content-group mt16">\n                                    <field name="national_currency_check_out_journal_id" required="1"/>\n                                </div>\n                            </div>\n                          \n                        </div>\n                      </div>\n                      <h2 name="parameters">Autres param&#232;tres</h2>\n                      <div class="row mt16 o_settings_container">\n                         <div class="col-12 col-lg-6 o_setting_box">\n                          <div class="o_setting_right_pane">\n                            <label for="x_cashbox_type_id"/>\n                            <div class="text-muted">\n                                Type de caisse\n                            </div>\n                            <div class="content-group mt16">\n                                <field name="cashbox_type_id" required="1"/>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="col-12 col-lg-6 o_setting_box">\n                          <div class="o_setting_right_pane">\n                            <label for="x_salesteams_id"/>\n                            <div class="text-muted">\n                                Nom du groupe local\n                            </div>\n                            <div class="content-group mt16">\n                                <field name="salesteams_id" required="1"/>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="col-12 col-lg-6 o_setting_box">\n                          <div class="o_setting_right_pane">\n                            <label for="x_local_currency_id"/>\n                            <div class="text-muted">\n                                  Devise locale\n                            </div>\n                            <div class="content-group mt16">\n                                <field name="local_currency_id" required="1"/>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="col-12 col-lg-6 o_setting_box">\n                             <div class="o_setting_right_pane">\n                              <label for="x_national_currency_id"/>\n                              <div class="text-muted">\n                                  Devise nationale\n                              </div>\n                              <div class="content-group mt16">\n                                  <field name="national_currency_id" required="1"/>\n                              </div>\n                            </div>\n                        </div>\n                      </div>\n                </sheet>\n            </form>'
        </field>
    </record>
</odoo>